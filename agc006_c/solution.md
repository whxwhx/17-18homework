首先我们注意这里的翻转相当于$A_i = 2x - a_i$，由期望的线性性可知$E(A_i) = 2E(x) - E(a_i)$。由此问题转化为每次做操作$a'_i = \frac{2a_{i - 1} - a_i + 2a_{i + 1} - a_i}{2} = a_{i - 1} + a_{i + 1} - a_i$，问$m$轮之后每个$a_i$的值。

实际移一下项就看出$a'_i - a_{i - 1} = a_{i + 1} - a_i$以及$a_{i + 1} - a'_i = a_i - a_{i - 1}$，也就是说等于是每次把两个差分交换了位置。

那么我们要做$m$轮就是做把这个置换的每个轮换转$m$倍之后的置换，对每个轮换扫一遍即可。

时间复杂度$O(n)$